---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero';
import About from '../components/About';
import Services from '../components/Services';
import PortfolioFilter from '../components/PortfolioFilter';
import Testimonials from '../components/Testimonials';
import FAQ from '../components/FAQ';
import ContactForm from '../components/ContactForm';
import { getCompany, getServices, getPortfolio, getTestimonials, getFAQ, getPortfolioCategories } from '../lib/api';

const company = await getCompany();
const services = await getServices();
const portfolio = await getPortfolio();
const testimonials = await getTestimonials();
const faqs = await getFAQ();
const categories = getPortfolioCategories();
---

<Layout title={`${company.name} - ${company.tagline}`} description={company.description}>
  <Header companyName={company.name} />
  
  <main>
    <Hero 
      client:load
      companyName={company.name} 
      tagline={company.tagline}
      taglineEn={company.taglineEn}
      description={company.description}
      descriptionEn={company.descriptionEn}
    />

    <About 
      client:load
      description={company.description}
      descriptionEn={company.descriptionEn}
      vision={company.vision}
      visionEn={company.visionEn}
      mission={company.mission}
      missionEn={company.missionEn}
      founded={company.founded}
    />

    <Services client:load services={services} />

    <PortfolioFilter 
      client:load 
      initialItems={portfolio} 
      categories={categories} 
    />

    <Testimonials client:load testimonials={testimonials} />

    <FAQ client:load faqs={faqs} />

    <ContactForm client:visible />
  </main>

  <Footer 
    companyName={company.name}
    email={company.email}
    phone={company.phone}
    address={company.address}
    socialMedia={company.socialMedia}
  />
</Layout>
