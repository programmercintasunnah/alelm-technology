---
import type { FAQ } from '../lib/api';

interface Props {
  faqs: FAQ[];
}

const { faqs } = Astro.props;
---

<section id="faq" class="py-20 bg-white dark:bg-dark-card">
  <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-sm text-blue-600 font-semibold uppercase tracking-wider mb-2">FAQ</h2>
      <h3 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
        Pertanyaan yang Sering Diajukan
      </h3>
      <p class="text-gray-600 dark:text-gray-400">
        Temukan jawaban untuk pertanyaan yang paling umum tentang layanan kami
      </p>
    </div>

    <div class="space-y-4">
      {faqs.map((faq, index) => (
        <div class="faq-item border border-gray-200 dark:border-dark-border rounded-xl overflow-hidden">
          <button 
            class="faq-button w-full px-6 py-4 text-left flex justify-between items-center bg-transparent hover:bg-gray-50 dark:hover:bg-dark transition-colors"
            data-index={index}
          >
            <span class="font-medium text-gray-900 dark:text-white pr-4">
              {faq.question}
            </span>
            <svg 
              class="faq-icon w-5 h-5 text-blue-600 flex-shrink-0 transition-transform duration-300" 
              fill="none" 
              stroke="currentColor" 
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="faq-content hidden px-6 pb-4">
            <p class="text-gray-600 dark:text-gray-400">
              {faq.answer}
            </p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  document.querySelectorAll('.faq-button').forEach(button => {
    button.addEventListener('click', () => {
      const content = button.nextElementSibling;
      const icon = button.querySelector('.faq-icon');
      
      if (content?.classList.contains('hidden')) {
        content.classList.remove('hidden');
        icon?.classList.add('rotate-180');
      } else {
        content?.classList.add('hidden');
        icon?.classList.remove('rotate-180');
      }
    });
  });
</script>
